{"version":3,"sources":["firebase/config.js","context/AuthContext.js","hooks/useAuthContext.js","components/Avatar.js","components/ProjectList.js","hooks/useCollection.js","pages/dashboard/ProjectFilter.js","pages/dashboard/Dashboard.js","hooks/useFirestore.js","pages/create/Create.js","pages/login/Login.js","hooks/useLogin.js","pages/signup/Signup.js","hooks/useSignup.js","hooks/useDocument.js","pages/project/ProjectComments.js","pages/project/ProjectSummary.js","pages/project/Project.js","hooks/useLogout.js","assets/temple.svg","components/Navbar.js","assets/dashboard_icon.svg","assets/add_icon.svg","components/Sidebar.js","components/OnlineUsers.js","components/Footer.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectFirestore","firestore","projectAuth","auth","projectStorage","storage","timestamp","Timestamp","AuthContext","createContext","authReducer","state","action","type","user","payload","authIsReady","AuthContextProvider","children","useReducer","dispatch","useEffect","unsub","onAuthStateChanged","console","log","Provider","value","useAuthContext","context","useContext","Error","Avatar","src","alt","className","ProjectList","projects","length","map","project","to","id","name","dueDate","toDate","toDateString","assignedUsersList","photoURL","displayName","useCollection","collection","_query","_orderBy","useState","documents","setDocuments","error","setError","query","useRef","current","orderBy","ref","where","unsubscribe","onSnapshot","snapshot","results","docs","forEach","doc","push","data","filterList","ProjectFilter","currentFilter","changeFilter","f","onClick","Dashboard","setCurrentFilter","filter","document","assignedToMe","u","uid","category","newFilter","initialState","isPending","success","firestoreReducer","useFirestore","response","isCancelled","setIsCancelled","dispatchIfNotCancelled","addDocument","createdAt","fromDate","Date","add","addedDocument","message","deleteDocument","delete","updateDocument","updates","update","updatedDocument","categories","label","Create","history","useHistory","setName","details","setDetails","setDueDate","setCategory","assignedUsers","setAssignedUsers","formError","setFormError","users","setUsers","options","handleSubmit","e","preventDefault","createdBy","comments","onSubmit","required","onChange","target","option","isMulti","Login","email","setEmail","password","setPassword","setIsPending","login","signInWithEmailAndPassword","res","online","useLogin","disabled","Signup","setDisplayName","thumbnail","setThumbnail","thumbnailError","setTumbnailError","signup","createUserWithEmailAndPassword","uploadPath","put","img","getDownloadURL","imgURL","updateProfile","set","useSignup","selected","files","includes","size","ProjectComments","newComment","setNewComment","commentToAdd","content","uuidv4","comment","formatDistanceToNow","addSuffix","ProjectSummary","Project","setDocument","err","useDocument","useParams","Navbar","logout","a","signOut","useLogout","Temple","Sidebar","exact","DashboardIcon","AddIcon","OnlineUsers","Footer","App","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.fe9a966a.chunk.js","sourcesContent":["import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\nimport 'firebase/storage';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyBoGzpEv3rXzBHMWrwIM_U2rzM9ansHGJA',\n  authDomain: 'thedojosite-cf361.firebaseapp.com',\n  projectId: 'thedojosite-cf361',\n  storageBucket: 'thedojosite-cf361.appspot.com',\n  messagingSenderId: '673918625748',\n  appId: '1:673918625748:web:058c1c131b5bcaebacd841',\n};\n\n//initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\n//initialize services\nconst projectFirestore = firebase.firestore();\nconst projectAuth = firebase.auth();\nconst projectStorage = firebase.storage();\n\n//timestamp\nconst timestamp = firebase.firestore.Timestamp;\n\nexport { projectFirestore, projectAuth, projectStorage, timestamp };\n","import { createContext, useReducer, useEffect } from 'react'\nimport { projectAuth } from '../firebase/config'\n\nexport const AuthContext = createContext()\n\nexport const authReducer = (state, action) => {\n  switch (action.type) {\n    case 'LOGIN':\n      return { ...state, user: action.payload }\n    case 'LOGOUT':\n      return { ...state, user: null }\n    case 'AUTH_IS_READY':\n      return { user: action.payload, authIsReady: true }\n    default:\n      return state\n  }\n}\n\nexport const AuthContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(authReducer, { \n    user: null,\n    authIsReady: false\n  })\n\n  useEffect(() => {\n    const unsub = projectAuth.onAuthStateChanged(user => {\n      dispatch({ type: 'AUTH_IS_READY', payload: user })\n      unsub()\n    })\n  }, [])\n\n  console.log('AuthContext state:', state)\n  \n  return (\n    <AuthContext.Provider value={{ ...state, dispatch }}>\n      { children }\n    </AuthContext.Provider>\n  )\n\n}","import { AuthContext } from '../context/AuthContext';\nimport { useContext } from 'react';\n\nexport const useAuthContext = () => {\n  const context = useContext(AuthContext);\n\n  if (!context) {\n    throw Error('useAuthContext must be used inside an AuthContextProvider');\n  }\n\n  return context;\n};\n\n// 'context' object can be deconstructed to { user, authIsReady }\n","import './Avatar.css';\n\nexport default function Avatar({ src, alt }) {\n  return (\n    <div className=\"avatar\">\n      <img src={src} alt={alt} />\n    </div>\n  );\n}\n","import { Link } from 'react-router-dom';\nimport Avatar from './Avatar';\nimport './ProjectList.css';\n\nexport default function ProjectList({ projects }) {\n  return (\n    <div className=\"project-list\">\n      {projects.length === 0 && <p>No projects yet.</p>}\n      {projects.map((project) => (\n        <Link key={project.id} to={`/projects/${project.id}`}>\n          <h4>{project.name}</h4>\n          <p>Due by {project.dueDate.toDate().toDateString()}</p>\n          <div className=\"assigned-to\">\n            <ul>\n              {project.assignedUsersList.map((user) => (\n                <li key={user.photoURL}>\n                  <Avatar src={user.photoURL} alt={user.displayName} />\n                </li>\n              ))}\n            </ul>\n          </div>\n        </Link>\n      ))}\n    </div>\n  );\n}\n","import { useEffect, useState, useRef } from \"react\"\nimport { projectFirestore } from \"../firebase/config\"\n\nexport const useCollection = (collection, _query, _orderBy) => {\n  const [documents, setDocuments] = useState(null)\n  const [error, setError] = useState(null)\n\n  // if we don't use a ref --> infinite loop in useEffect\n  // _query is an array and is \"different\" on every function call\n  const query = useRef(_query).current\n  const orderBy = useRef(_orderBy).current\n\n  useEffect(() => {\n    let ref = projectFirestore.collection(collection)\n\n    if (query) {\n      ref = ref.where(...query)\n    }\n    if (orderBy) {\n      ref = ref.orderBy(...orderBy)\n    }\n\n    const unsubscribe = ref.onSnapshot(snapshot => {\n      let results = []\n      snapshot.docs.forEach(doc => {\n        results.push({...doc.data(), id: doc.id})\n      });\n      \n      // update state\n      setDocuments(results)\n      setError(null)\n    }, error => {\n      console.log(error)\n      setError('could not fetch the data')\n    })\n\n    // unsubscribe on unmount\n    return () => unsubscribe()\n\n  }, [collection, query, orderBy])\n\n  return { documents, error }\n}","const filterList = [\n  'all',\n  'mine',\n  'development',\n  'design',\n  'marketing',\n  'sales',\n];\n\nexport default function ProjectFilter({ currentFilter, changeFilter }) {\n  const handleClick = (newFilter) => {\n    changeFilter(newFilter);\n  };\n\n  return (\n    <div className=\"project-filter\">\n      <nav>\n        <p>Filter by:</p>\n        {filterList.map((f) => (\n          <button\n            key={f}\n            onClick={() => handleClick(f)}\n            className={currentFilter === f ? 'active' : ''}\n          >\n            {f}\n          </button>\n        ))}\n      </nav>\n    </div>\n  );\n}\n","import { useState } from 'react';\nimport ProjectList from '../../components/ProjectList';\nimport { useCollection } from '../../hooks/useCollection';\nimport './Dashboard.css';\nimport ProjectFilter from './ProjectFilter';\nimport { useAuthContext } from '../../hooks/useAuthContext';\n\nexport default function Dashboard() {\n  const { documents, error } = useCollection('projects');\n  const [currentFilter, setCurrentFilter] = useState('all');\n  const { user } = useAuthContext();\n\n  const changeFilter = (newFilter) => {\n    setCurrentFilter(newFilter);\n  };\n\n  const projects = documents\n    ? documents.filter((document) => {\n        switch (currentFilter) {\n          case 'all':\n            return true;\n          case 'mine':\n            let assignedToMe = false;\n            document.assignedUsersList.forEach((u) => {\n              if (u.id === user.uid) {\n                assignedToMe = true;\n              }\n            });\n            return assignedToMe;\n          case 'development':\n          case 'design':\n          case 'sales':\n          case 'marketing':\n            console.log(document.category, currentFilter);\n            return document.category === currentFilter;\n          default:\n            return true;\n        }\n      })\n    : null;\n\n  return (\n    <div>\n      <h2 className=\"page-title\">Dashboard</h2>\n      {error && <p className=\"error\">{error}</p>}\n      {documents && (\n        <ProjectFilter\n          currentFilter={currentFilter}\n          changeFilter={changeFilter}\n        />\n      )}\n      {documents && <ProjectList projects={projects} />}\n    </div>\n  );\n}\n","import { useReducer, useEffect, useState } from 'react';\nimport { projectFirestore, timestamp } from '../firebase/config';\n\nlet initialState = {\n  document: null,\n  isPending: false,\n  error: null,\n  success: null,\n};\n\nconst firestoreReducer = (state, action) => {\n  switch (action.type) {\n    case 'IS_PENDING':\n      return { isPending: true, document: null, success: false, error: null };\n    case 'ADDED_DOCUMENT':\n      return {\n        isPending: false,\n        document: action.payload,\n        success: true,\n        error: null,\n      };\n    case 'DELETED_DOCUMENT':\n      return { isPending: false, document: null, success: true, error: null };\n    case 'UPDATED_DOCUMENT':\n      return {\n        isPending: false,\n        document: action.payload,\n        success: true,\n        error: null,\n      };\n    case 'ERROR':\n      return {\n        isPending: false,\n        document: null,\n        success: false,\n        error: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const useFirestore = (collection) => {\n  const [response, dispatch] = useReducer(firestoreReducer, initialState);\n  const [isCancelled, setIsCancelled] = useState(false);\n\n  // collection ref\n  const ref = projectFirestore.collection(collection);\n\n  // only dispatch is not cancelled\n  const dispatchIfNotCancelled = (action) => {\n    if (!isCancelled) {\n      dispatch(action);\n    }\n  };\n\n  // add a document\n  const addDocument = async (doc) => {\n    dispatch({ type: 'IS_PENDING' });\n\n    try {\n      const createdAt = timestamp.fromDate(new Date());\n      const addedDocument = await ref.add({ ...doc, createdAt });\n      dispatchIfNotCancelled({\n        type: 'ADDED_DOCUMENT',\n        payload: addedDocument,\n      });\n    } catch (err) {\n      dispatchIfNotCancelled({ type: 'ERROR', payload: err.message });\n    }\n  };\n\n  // delete a document\n  const deleteDocument = async (id) => {\n    dispatch({ type: 'IS_PENDING' });\n\n    try {\n      await ref.doc(id).delete();\n      dispatchIfNotCancelled({ type: 'DELETED_DOCUMENT' });\n    } catch (err) {\n      dispatchIfNotCancelled({ type: 'ERROR', payload: 'could not delete' });\n    }\n  };\n\n  // update a document\n  const updateDocument = async (id, updates) => {\n    dispatch({ type: 'IS_PENDING' });\n\n    try {\n      const updatedDocument = await ref.doc(id).update(updates);\n      dispatchIfNotCancelled({\n        type: 'UPDATED_DOCUMENT',\n        payload: updatedDocument,\n      });\n      return updatedDocument;\n    } catch (err) {\n      dispatchIfNotCancelled({ type: 'ERROR', payload: err.message });\n      return null;\n    }\n  };\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, []);\n\n  return { addDocument, deleteDocument, updateDocument, response };\n};\n","import { useEffect, useState } from 'react';\nimport Select from 'react-select';\nimport { useCollection } from '../../hooks/useCollection';\nimport { useFirestore } from '../../hooks/useFirestore';\nimport { timestamp } from '../../firebase/config';\nimport { useAuthContext } from '../../hooks/useAuthContext';\nimport { useHistory } from 'react-router-dom';\nimport './Create.css';\n\nconst categories = [\n  { value: 'development', label: 'Development' },\n  { value: 'design', label: 'Design' },\n  { value: 'sales', label: 'Sales' },\n  { value: 'marketing', label: 'Marketing' },\n];\n\nexport default function Create() {\n  const { user } = useAuthContext();\n  const { addDocument, response } = useFirestore('projects');\n  const history = useHistory();\n\n  const [name, setName] = useState('');\n  const [details, setDetails] = useState('');\n  const [dueDate, setDueDate] = useState('');\n  const [category, setCategory] = useState('');\n  const [assignedUsers, setAssignedUsers] = useState([]);\n  const [formError, setFormError] = useState(null);\n\n  // getting a list of all users to feed the assignees Select component:\n  const [users, setUsers] = useState([]);\n  const { documents } = useCollection('users');\n  useEffect(() => {\n    if (documents) {\n      const options = documents.map((user) => {\n        return { value: user, label: user.displayName };\n      });\n      setUsers(options);\n    }\n  }, [documents]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setFormError(null);\n\n    // handling form errors:\n    if (!category) {\n      setFormError('Please select a project category');\n      return;\n    }\n\n    if (assignedUsers.length < 1) {\n      setFormError('Please assign the project to at least 1 user');\n      return;\n    }\n\n    // building the 'project' object:\n    const createdBy = {\n      displayName: user.displayName,\n      photoURL: user.photoURL,\n      id: user.uid,\n    };\n\n    const assignedUsersList = assignedUsers.map((u) => {\n      return {\n        displayName: u.value.displayName,\n        photoURL: u.value.photoURL,\n        id: u.value.id,\n      };\n    });\n\n    const project = {\n      name,\n      details,\n      category: category.value,\n      dueDate: timestamp.fromDate(new Date(dueDate)),\n      comments: [],\n      createdBy,\n      assignedUsersList,\n    };\n\n    //adding the project as a document on the collection 'projects':\n    // await projectFirestore.collection('projects').add(project);\n    await addDocument(project);\n    if (!response.error) {\n      history.push('/');\n    }\n\n    console.log(project);\n  };\n\n  return (\n    <div className=\"create-form\">\n      <h2 className=\"page-title\">Create a new project</h2>\n      <form onSubmit={handleSubmit}>\n        <label>\n          <span>Project name:</span>\n          <input\n            required\n            type=\"text\"\n            onChange={(e) => setName(e.target.value)}\n            value={name}\n          />\n        </label>\n        <label>\n          <span>Project details:</span>\n          <textarea\n            required\n            type=\"text\"\n            onChange={(e) => setDetails(e.target.value)}\n            value={details}\n          ></textarea>\n        </label>\n        <label>\n          <span>Set due date:</span>\n          <input\n            required\n            type=\"date\"\n            onChange={(e) => setDueDate(e.target.value)}\n            value={dueDate}\n          />\n        </label>\n\n        <label>\n          <span>Project category:</span>\n          <Select\n            options={categories}\n            onChange={(option) => setCategory(option)}\n          />\n        </label>\n        <label>\n          <span>Assign to:</span>\n          <Select\n            options={users}\n            onChange={(option) => setAssignedUsers(option)}\n            isMulti\n          />\n        </label>\n\n        <button className=\"btn\">add project</button>\n\n        {formError && <p className=\"error\">{formError}</p>}\n      </form>\n    </div>\n  );\n}\n","import { useState } from 'react';\nimport { useLogin } from '../../hooks/useLogin';\nimport './Login.css';\n\nexport default function Login() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const { login, isPending, error } = useLogin();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    login(email, password);\n  };\n\n  return (\n    <form className=\"auth-form\" onSubmit={handleSubmit}>\n      <h2>Login</h2>\n      <label>\n        <span>email:</span>\n        <input\n          type=\"email\"\n          required\n          onChange={(e) => setEmail(e.target.value)}\n          value={email}\n        />\n      </label>\n      <label>\n        <span>password:</span>\n        <input\n          type=\"password\"\n          required\n          onChange={(e) => setPassword(e.target.value)}\n          value={password}\n        />\n      </label>\n\n      {!isPending && <button className=\"btn\">login</button>}\n      {isPending && (\n        <button className=\"btn\" disabled>\n          loading\n        </button>\n      )}\n      {error && <div className=\"error\">{error}</div>}\n    </form>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { projectAuth, projectFirestore } from '../firebase/config';\nimport { useAuthContext } from './useAuthContext';\n\nexport const useLogin = () => {\n  const [isCancelled, setIsCancelled] = useState(false);\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const { dispatch } = useAuthContext();\n\n  const login = async (email, password) => {\n    setError(null);\n    setIsPending(true);\n\n    try {\n      // login in Auth\n      const res = await projectAuth.signInWithEmailAndPassword(email, password);\n\n      // set online property on DB's user to true\n      const { uid } = res.user;\n      await projectFirestore\n        .collection('users')\n        .doc(uid)\n        .update({ online: true });\n\n      // dispatch login action\n      dispatch({ type: 'LOGIN', payload: res.user });\n\n      if (!isCancelled) {\n        setIsPending(false);\n        setError(null);\n      }\n    } catch (err) {\n      if (!isCancelled) {\n        setError(err.message);\n        setIsPending(false);\n      }\n    }\n  };\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, []);\n\n  return { login, isPending, error };\n};\n","import { useState } from 'react';\nimport { useSignup } from '../../hooks/useSignup';\nimport './Signup.css';\n\nexport default function Signup() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [displayName, setDisplayName] = useState('');\n  const [thumbnail, setThumbnail] = useState(null);\n  const [thumbnailError, setTumbnailError] = useState(null);\n  const { signup, isPending, error } = useSignup();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    signup(email, password, displayName, thumbnail);\n  };\n\n  const handleFileChange = (e) => {\n    setThumbnail(null);\n    let selected = e.target.files[0]; //this will be an array, but we just want one file.\n    console.log(selected);\n\n    if (!selected) {\n      setTumbnailError('Please select a file');\n      return;\n    }\n    if (!selected.type.includes('image')) {\n      setTumbnailError('Selected file must be an image');\n      return;\n    }\n    if (selected.size > 100000) {\n      setTumbnailError('Image file size must be less than 100kB');\n      return;\n    }\n\n    setTumbnailError(null);\n    setThumbnail(selected);\n    console.log('thumbnail updated');\n  };\n\n  return (\n    <form className=\"auth-form\" onSubmit={handleSubmit}>\n      <h2>Sign up</h2>\n      <label>\n        <span>email:</span>\n        <input\n          type=\"email\"\n          required\n          onChange={(e) => setEmail(e.target.value)}\n          value={email}\n        />\n      </label>\n      <label>\n        <span>password:</span>\n        <input\n          type=\"password\"\n          required\n          onChange={(e) => setPassword(e.target.value)}\n          value={password}\n        />\n      </label>\n      <label>\n        <span>display name:</span>\n        <input\n          type=\"text\"\n          required\n          onChange={(e) => setDisplayName(e.target.value)}\n          value={displayName}\n        />\n      </label>\n      <label>\n        <span>profile thumbnail:</span>\n        <input type=\"file\" required onChange={handleFileChange} />\n        {thumbnailError && <div className=\"error\">{thumbnailError}</div>}\n      </label>\n      {!isPending && <button className=\"btn\">sign up</button>}\n      {isPending && (\n        <button className=\"btn\" disabled>\n          loading\n        </button>\n      )}\n      {error && <div className=\"error\">{error}</div>}\n    </form>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport {\n  projectAuth,\n  projectStorage,\n  projectFirestore,\n} from '../firebase/config';\nimport { useAuthContext } from './useAuthContext';\n\nexport const useSignup = () => {\n  const [isCancelled, setIsCancelled] = useState(false);\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const { dispatch } = useAuthContext();\n\n  const signup = async (email, password, displayName, thumbnail) => {\n    setError(null);\n    setIsPending(true);\n\n    try {\n      // signup\n      const res = await projectAuth.createUserWithEmailAndPassword(\n        email,\n        password\n      );\n\n      if (!res) {\n        throw new Error('Could not complete signup');\n      }\n\n      // update user thumbnail\n      const uploadPath = `thumbnails/${res.user.uid}/${thumbnail.name}`; //create the path to upload\n      const img = await projectStorage.ref(uploadPath).put(thumbnail); //uploading\n      const imgURL = await img.ref.getDownloadURL(); //get the uploaded image URL\n\n      // add display name to user\n      await res.user.updateProfile({ displayName, photoURL: imgURL });\n\n      // create a user document inside the 'users' collection in Firestore DB\n      await projectFirestore.collection('users').doc(res.user.uid).set({\n        online: true,\n        displayName,\n        photoURL: imgURL,\n      });\n\n      // dispatch login action\n      dispatch({ type: 'LOGIN', payload: res.user });\n\n      if (!isCancelled) {\n        setIsPending(false);\n        setError(null);\n      }\n    } catch (err) {\n      if (!isCancelled) {\n        setError(err.message);\n        setIsPending(false);\n      }\n    }\n  };\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, []);\n\n  return { signup, error, isPending };\n};\n","import { useEffect, useState } from 'react';\nimport { projectFirestore } from '../firebase/config';\n\nexport const useDocument = (collection, id) => {\n  const [document, setDocument] = useState(null);\n  const [error, setError] = useState(null);\n\n  //realtime data for document\n  useEffect(() => {\n    const ref = projectFirestore.collection(collection).doc(id);\n\n    const unsubscribe = ref.onSnapshot(\n      (snapshot) => {\n        //check is there is data inside snapshot:\n        if (snapshot.data()) {\n          setDocument({ ...snapshot.data(), id: snapshot.id });\n          setError(null);\n        } else {\n          setError('No such document exists.');\n        }\n      },\n      (err) => {\n        console.log(err.message);\n        setError('Failed to get document');\n      }\n    );\n\n    return () => unsubscribe();\n  }, [collection, id]);\n\n  return { document, error };\n};\n","import { useState } from 'react';\nimport { timestamp } from '../../firebase/config';\nimport { useAuthContext } from '../../hooks/useAuthContext';\nimport { useFirestore } from '../../hooks/useFirestore';\nimport { v4 as uuidv4 } from 'uuid';\nimport Avatar from '../../components/Avatar';\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow';\n\nexport default function ProjectComments({ project }) {\n  const { updateDocument, response } = useFirestore('projects');\n  const [newComment, setNewComment] = useState();\n  const { user } = useAuthContext();\n\n  //add a new comment:\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const commentToAdd = {\n      displayName: user.displayName,\n      photoURL: user.photoURL,\n      content: newComment,\n      createdAt: timestamp.fromDate(new Date()),\n      id: uuidv4(), //using uuid package to generate unique id\n    };\n\n    await updateDocument(project.id, {\n      comments: [...project.comments, commentToAdd],\n    });\n    console.log(response);\n    if (!response.error) {\n      setNewComment('');\n    }\n  };\n\n  return (\n    <div className=\"project-comments\">\n      <h4>Comments</h4>\n\n      <ul>\n        {project.comments.length > 0 &&\n          project.comments.map((comment) => (\n            <li key={comment.id}>\n              <div className=\"comment-author\">\n                <Avatar src={comment.photoURL} alt={comment.displayName} />\n                <p>{comment.displayName}</p>\n              </div>\n              <div className=\"comment-date\">\n                <p>\n                  {formatDistanceToNow(comment.createdAt.toDate(), {\n                    addSuffix: true,\n                  })}\n                </p>\n              </div>\n              <div className=\"comment-content\">\n                <p>{comment.content}</p>\n              </div>\n            </li>\n          ))}\n      </ul>\n\n      <form className=\"add-comment\" onSubmit={handleSubmit}>\n        <label>\n          <span>Add new comment:</span>\n          <textarea\n            required\n            onChange={(e) => setNewComment(e.target.value)}\n            value={newComment}\n          ></textarea>\n        </label>\n        <button className=\"btn\">Add Comment</button>\n      </form>\n    </div>\n  );\n}\n","import { useHistory } from 'react-router-dom';\nimport { useFirestore } from '../../hooks/useFirestore';\nimport Avatar from '../../components/Avatar';\nimport { useAuthContext } from '../../hooks/useAuthContext';\n\nexport default function ProjectSummary({ project }) {\n  const history = useHistory();\n  const { deleteDocument } = useFirestore('projects');\n  const { user } = useAuthContext();\n\n  const handleClick = (e) => {\n    deleteDocument(project.id);\n    history.push('/');\n  };\n\n  return (\n    <div>\n      <div className=\"project-summary\">\n        <h2 className=\"page-title\">{project.name}</h2>\n        <p className=\"created-by\">by {project.createdBy.displayName}</p>\n        <p className=\"due-date\">\n          Project due by {project.dueDate.toDate().toDateString()}\n        </p>\n        <p className=\"details\">{project.details}</p>\n        <h4>Project is assigned to:</h4>\n        <div className=\"assigned-users\">\n          {project.assignedUsersList.map((user) => (\n            <div key={user.id}>\n              <Avatar src={user.photoURL} alt={user.displayName} />\n            </div>\n          ))}\n        </div>\n      </div>\n      {user.uid === project.createdBy.id && (\n        <button className=\"btn\" onClick={handleClick}>\n          Mark as Complete\n        </button>\n      )}\n    </div>\n  );\n}\n","import { useParams } from 'react-router-dom';\nimport { useDocument } from '../../hooks/useDocument';\nimport './Project.css';\nimport ProjectComments from './ProjectComments';\nimport ProjectSummary from './ProjectSummary';\n\nexport default function Project() {\n  const { id } = useParams(); //it's called 'id' because the route's path is '/projects/:id'\n  const { error, document } = useDocument('projects', id);\n\n  if (error) {\n    return <div className=\"error\">{error}</div>;\n  }\n  if (!document) {\n    return <div className=\"loading\">Loading...</div>;\n  }\n\n  return (\n    <div className=\"project-details\">\n      <ProjectSummary project={document} />\n      <ProjectComments project={document} />\n    </div>\n  );\n}\n","import { useEffect, useState } from 'react';\nimport { projectAuth, projectFirestore } from '../firebase/config';\nimport { useAuthContext } from './useAuthContext';\n\nexport const useLogout = () => {\n  const [isCancelled, setIsCancelled] = useState(false);\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const { dispatch, user } = useAuthContext();\n\n  const logout = async () => {\n    setError(null);\n    setIsPending(true);\n\n    try {\n      // update online status on users collection in Firebase DB\n      const { uid } = user;\n      await projectFirestore\n        .collection('users')\n        .doc(uid)\n        .update({ online: false });\n\n      // sign the user out in Firebase Auth\n      await projectAuth.signOut();\n\n      // dispatch logout action\n      dispatch({ type: 'LOGOUT' });\n\n      // update state\n      if (!isCancelled) {\n        setIsPending(false);\n        setError(null);\n      }\n    } catch (err) {\n      if (!isCancelled) {\n        setError(err.message);\n        setIsPending(false);\n      }\n    }\n  };\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, []);\n\n  return { logout, error, isPending };\n};\n","export default __webpack_public_path__ + \"static/media/temple.c57f882d.svg\";","import { Link } from 'react-router-dom';\nimport { useLogout } from '../hooks/useLogout';\nimport { useAuthContext } from '../hooks/useAuthContext';\nimport './Navbar.css';\nimport Temple from '../assets/temple.svg';\n\nexport default function Navbar() {\n  const { logout, isPending } = useLogout();\n  const { user } = useAuthContext();\n\n  return (\n    <div className=\"navbar\">\n      <ul>\n        <li className=\"logo\">\n          <img src={Temple} alt=\"Logo\" />\n          <span>The Dojo</span>\n        </li>\n\n        {!user && (\n          <>\n            <li>\n              <Link to=\"/login\">Login</Link>\n            </li>\n            <li>\n              <Link to=\"/signup\">Signup</Link>\n            </li>\n          </>\n        )}\n        {user && (\n          <li>\n            {!isPending && (\n              <button className=\"btn\" onClick={logout}>\n                Logout\n              </button>\n            )}\n            {isPending && (\n              <button className=\"btn\" disabled>\n                Logging out...\n              </button>\n            )}\n          </li>\n        )}\n      </ul>\n    </div>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/dashboard_icon.bc800f3b.svg\";","export default __webpack_public_path__ + \"static/media/add_icon.376e9b6a.svg\";","import { NavLink } from 'react-router-dom';\nimport { useAuthContext } from '../hooks/useAuthContext';\nimport './Sidebar.css';\nimport DashboardIcon from '../assets/dashboard_icon.svg';\nimport AddIcon from '../assets/add_icon.svg';\nimport Avatar from './Avatar';\nimport { Link } from 'react-router-dom';\n\nexport default function Sidebar() {\n  const { user } = useAuthContext();\n\n  return (\n    <div className=\"sidebar\">\n      <div className=\"sidebar-content\">\n        <Link to=\"/\">\n          <div className=\"user\">\n            <Avatar src={user.photoURL} />\n            <p>Hey, {user.displayName}</p>\n          </div>\n        </Link>\n\n        <nav className=\"links\">\n          <ul>\n            <li>\n              <NavLink exact to=\"/\">\n                <img src={DashboardIcon} alt=\"dashboard\" />\n                <span>Dashboard</span>\n              </NavLink>\n            </li>\n            <li>\n              <NavLink to=\"/create\">\n                <img src={AddIcon} alt=\"create new\" />\n                <span>New Project</span>\n              </NavLink>\n            </li>\n          </ul>\n        </nav>\n      </div>\n    </div>\n  );\n}\n","import { useCollection } from '../hooks/useCollection';\nimport Avatar from './Avatar';\nimport './OnlineUsers.css';\n\nexport default function OnlineUsers() {\n  const { error, documents } = useCollection('users');\n\n  return (\n    <div className=\"user-list\">\n      <h2>All Users</h2>\n      {error && <div className=\"error\">{error}</div>}\n      {documents &&\n        documents.map((user) => (\n          <div key={user.id} className=\"user-list-item\">\n            {user.online && <span className=\"online-user\"></span>}\n            <span>{user.displayName}</span>\n            <Avatar src={user.photoURL} alt={user.displayName} />\n          </div>\n        ))}\n    </div>\n  );\n}\n","import './Footer.css';\n\nexport default function Footer({ user }) {\n  return (\n    <>\n      {user && (\n        <div className=\"footer\">\n          <p>Some rights reserved</p>\n          <p>2023</p>\n        </div>\n      )}\n      {!user && (\n        <div className=\"footer no-user\">\n          <p>Some rights reserved</p>\n          <p>2023</p>\n        </div>\n      )}\n    </>\n  );\n}\n","import { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport { useAuthContext } from './hooks/useAuthContext';\nimport './App.css';\nimport Dashboard from './pages/dashboard/Dashboard';\nimport Create from './pages/create/Create';\nimport Login from './pages/login/Login';\nimport Signup from './pages/signup/Signup';\nimport Project from './pages/project/Project';\nimport Navbar from './components/Navbar';\nimport Sidebar from './components/Sidebar';\nimport OnlineUsers from './components/OnlineUsers';\nimport Footer from './components/Footer';\n\nfunction App() {\n  const { user, authIsReady } = useAuthContext();\n\n  return (\n    <>\n      <div className=\"App\">\n        {authIsReady && (\n          <BrowserRouter>\n            {user && <Sidebar />}\n            <div className=\"container\">\n              <Navbar />\n              <Switch>\n                <Route exact path=\"/\">\n                  {!user && <Redirect to=\"login\" />}\n                  {user && <Dashboard />}\n                </Route>\n                <Route path=\"/create\">\n                  {!user && <Redirect to=\"login\" />}\n                  {user && <Create />}\n                </Route>\n                <Route path=\"/projects/:id\">\n                  {!user && <Redirect to=\"login\" />}\n                  {user && <Project />}\n                </Route>\n                <Route path=\"/login\">\n                  {user && <Redirect to=\"/\" />}\n                  {!user && <Login />}\n                </Route>\n                <Route path=\"/signup\">\n                  {user && <Redirect to=\"/\" />}\n                  {!user && <Signup />}\n                </Route>\n              </Switch>\n            </div>\n            {user && <OnlineUsers />}\n          </BrowserRouter>\n        )}\n      </div>\n      <Footer user={user} />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AuthContextProvider } from './context/AuthContext';\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}